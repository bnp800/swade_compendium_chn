# Weblate 翻译平台使用指南

本指南详细介绍如何使用 Weblate 平台进行 SWADE 中文翻译工作。

## 目录

- [Weblate 简介](#weblate-简介)
- [注册和登录](#注册和登录)
- [界面介绍](#界面介绍)
- [翻译操作](#翻译操作)
- [质量检查](#质量检查)
- [协作功能](#协作功能)
- [高级功能](#高级功能)
- [常见问题](#常见问题)

---

## Weblate 简介

Weblate 是一个基于 Web 的翻译工具，支持多人协作翻译。本项目使用 Weblate 来管理 SWADE 中文翻译工作。

**平台地址**: http://150.109.5.239/engage/swade/

**优势**:
- 无需 Git 知识，纯 Web 界面操作
- 支持翻译记忆和术语表
- 自动质量检查
- 多人协作，避免冲突
- 自动同步到 GitHub

---

## 注册和登录

### 注册账号

1. 访问 http://150.109.5.239/engage/swade/
2. 点击右上角 **注册** 按钮
3. 填写注册信息：
   - 用户名（建议使用英文）
   - 邮箱地址
   - 密码
4. 点击 **注册** 完成

### 登录

1. 访问平台首页
2. 点击右上角 **登录** 按钮
3. 输入用户名和密码
4. 点击 **登录**

---

## 界面介绍

### 项目首页

登录后会看到 SWADE 项目首页，包含：

- **项目统计**: 总体翻译进度
- **组件列表**: 各个 Compendium 的翻译状态
- **最近活动**: 其他用户的翻译动态

### 组件页面

点击任意组件（如 "swade-edges"）进入组件页面：

| 区域 | 说明 |
|------|------|
| 统计信息 | 该组件的翻译进度、字符串数量等 |
| 翻译按钮 | 开始翻译、继续翻译等操作 |
| 文件列表 | 该组件包含的翻译文件 |
| 质量检查 | 发现的翻译问题列表 |

### 翻译界面

点击 **翻译** 按钮进入翻译界面：

```
┌─────────────────────────────────────────────────────────────┐
│ 导航栏: [上一条] [下一条] [保存] [跳过] [建议]                │
├─────────────────────────────────────────────────────────────┤
│ 源文本 (英文):                                              │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ Alertness                                               │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 翻译文本 (中文):                                            │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ [在此输入中文翻译]                                      │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 上下文信息: 字段类型、条目名称等                            │
├─────────────────────────────────────────────────────────────┤
│ 翻译建议: 术语表匹配、翻译记忆等                            │
└─────────────────────────────────────────────────────────────┘
```

---

## 翻译操作

### 基本翻译流程

1. **选择组件**: 从项目首页选择要翻译的组件
2. **开始翻译**: 点击 **翻译** 按钮
3. **输入翻译**: 在翻译文本框中输入中文
4. **保存**: 点击 **保存并继续** 或使用快捷键 `Ctrl+Enter`
5. **继续下一条**: 自动跳转到下一个未翻译条目

### 翻译技巧

#### 1. 使用术语表

Weblate 会自动高亮术语表中的词汇：

- **蓝色高亮**: 术语表中的词汇
- **点击高亮词**: 查看建议翻译
- **应用建议**: 点击建议翻译自动填入

#### 2. 翻译记忆

系统会显示相似的已翻译内容：

- **绿色条目**: 完全匹配的翻译
- **黄色条目**: 部分匹配的翻译
- **点击应用**: 使用建议的翻译

#### 3. 上下文信息

右侧面板显示：
- **字段类型**: name、description 等
- **条目信息**: 所属 Compendium、条目名称
- **源文件位置**: 在源码中的位置

### 翻译状态

每个字符串有不同的状态：

| 状态 | 图标 | 说明 |
|------|------|------|
| 未翻译 | ❌ | 尚未提供翻译 |
| 需要审核 | ⚠️ | 翻译已提交，等待审核 |
| 已翻译 | ✅ | 翻译已完成并审核通过 |
| 有问题 | 🔴 | 质量检查发现问题 |

### 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl+Enter` | 保存并继续 |
| `Ctrl+Shift+Enter` | 保存并跳转到下一个未翻译 |
| `Alt+PageDown` | 下一个字符串 |
| `Alt+PageUp` | 上一个字符串 |
| `Alt+Home` | 跳转到第一个 |
| `Alt+End` | 跳转到最后一个 |

---

## 质量检查

Weblate 提供自动质量检查功能。

### 检查类型

| 检查项 | 说明 | 示例 |
|--------|------|------|
| 占位符 | 检查占位符是否保留 | `{0}`, `{{variable}}` |
| HTML 标签 | 检查 HTML 标签是否配对 | `<p>...</p>` |
| 标点符号 | 检查标点符号使用 | 中文使用全角标点 |
| 术语一致性 | 检查术语使用是否一致 | Edge → 专长 |
| 长度检查 | 检查翻译长度是否合理 | 避免过长或过短 |

### 查看质量问题

1. 在组件页面点击 **质量检查** 标签
2. 查看问题列表
3. 点击问题条目进入翻译界面
4. 修复问题并保存

### 常见质量问题及解决

#### 1. 占位符缺失

**问题**: 源文本包含 `{0}`，翻译中缺失
```
源文本: "Gain {0} Power Points"
错误翻译: "获得异能点数"
正确翻译: "获得 {0} 异能点数"
```

#### 2. HTML 标签不匹配

**问题**: HTML 标签未正确闭合
```
源文本: "<p>Some text</p>"
错误翻译: "<p>一些文本"
正确翻译: "<p>一些文本</p>"
```

#### 3. 术语不一致

**问题**: 同一术语使用不同翻译
```
错误: Edge 有时翻译为"专长"，有时翻译为"优势"
正确: Edge 统一翻译为"专长"
```

---

## 协作功能

### 评论系统

可以对翻译条目添加评论：

1. 在翻译界面点击 **评论** 标签
2. 输入评论内容
3. 点击 **添加评论**

**用途**:
- 讨论翻译方案
- 标记疑难条目
- 请求帮助

### 建议功能

可以为其他用户的翻译提供建议：

1. 在翻译界面输入建议翻译
2. 点击 **建议** 而非 **保存**
3. 等待审核者处理

### 审核流程

项目设置了审核流程：

1. **翻译者** 提交翻译
2. **审核者** 检查翻译质量
3. **批准** 或 **拒绝** 翻译
4. 被拒绝的翻译需要重新修改

---

## 高级功能

### 批量操作

#### 1. 批量翻译

对于重复的内容，可以使用批量翻译：

1. 在组件页面点击 **工具** → **批量编辑**
2. 选择要批量处理的字符串
3. 输入翻译内容
4. 点击 **应用**

#### 2. 搜索和替换

1. 点击 **工具** → **搜索和替换**
2. 输入搜索条件
3. 输入替换内容
4. 预览并确认更改

### 导出翻译

可以导出翻译文件进行本地处理：

1. 在组件页面点击 **文件** → **下载翻译**
2. 选择文件格式（JSON、CSV 等）
3. 下载文件

### 统计信息

查看详细的翻译统计：

1. 点击 **洞察** 标签
2. 查看翻译进度图表
3. 查看贡献者统计
4. 查看翻译活动时间线

---

## 常见问题

### Q1: 如何处理 HTML 内容？

**A**: 
- 不要修改 HTML 标签，只翻译标签内的文本
- 保留所有 `@UUID[...]{}` 链接
- 保留 CSS 类名和属性

**示例**:
```html
源文本: <p class="note">This is a <strong>warning</strong>.</p>
翻译: <p class="note">这是一个<strong>警告</strong>。</p>
```

### Q2: 遇到不确定的术语怎么办？

**A**:
1. 查看术语表建议
2. 搜索已有翻译中的用法
3. 在评论中询问其他翻译者
4. 参考官方中文资料

### Q3: 如何处理占位符？

**A**:
- `{0}`, `{1}` 等数字占位符必须保留
- `{{variable}}` 变量占位符必须保留
- 可以调整占位符在句子中的位置

**示例**:
```
源文本: "You gain {0} experience points"
翻译: "你获得了 {0} 经验值"
```

### Q4: 翻译被拒绝了怎么办？

**A**:
1. 查看拒绝原因（通常在评论中）
2. 根据反馈修改翻译
3. 重新提交
4. 如有疑问，在评论中讨论

### Q5: 如何查看我的翻译贡献？

**A**:
1. 点击右上角用户名
2. 选择 **个人资料**
3. 查看翻译统计和活动记录

### Q6: 可以离线翻译吗？

**A**:
- Weblate 主要是在线工具
- 可以导出文件进行离线翻译
- 离线翻译完成后需要重新导入

### Q7: 如何报告平台问题？

**A**:
1. 在项目页面点击 **支持**
2. 描述遇到的问题
3. 或在 GitHub Issues 中报告

### Q8: 翻译会自动同步到 GitHub 吗？

**A**:
- 是的，翻译会自动提交到 GitHub
- 通常在翻译保存后几分钟内同步
- 可以在 GitHub 仓库中查看提交记录

### Q9: 如何处理长文本翻译？

**A**:
1. 分段翻译，保持逻辑清晰
2. 注意保持 HTML 结构
3. 可以先保存草稿，稍后完善
4. 使用评论功能标记进度

### Q10: 多人同时翻译同一条目会冲突吗？

**A**:
- Weblate 会自动处理冲突
- 后提交的翻译会覆盖先前的
- 建议在评论中协调分工

---

## 翻译规范

### 术语翻译

| 英文 | 中文 | 说明 |
|------|------|------|
| Edge | 专长 | 角色优势能力 |
| Hindrance | 障碍 | 角色缺陷 |
| Power | 异能 | 魔法/超能力 |
| Trait | 特质 | 属性和技能的统称 |
| Wild Card | 主角 | 重要角色 |
| Extra | 配角 | 普通 NPC |
| Bennies | 奖励筹码 | 游戏机制 |

### 标点符号

- 使用中文全角标点：，。！？；：
- 保留英文标点的地方：URL、代码、特殊格式
- 引号使用：""（外层）和''（内层）

### 语言风格

- 使用简体中文
- 语言简洁明了
- 保持游戏术语的专业性
- 避免过于口语化的表达

---

## 相关链接

- [翻译工作流文档](./translation-workflow.md)
- [自动化工具使用指南](./automation-tools-guide.md)
- [项目 GitHub 仓库](https://github.com/fvtt-cn/swade_compendium_chn)
- [QQ 频道](https://qun.qq.com/qqweb/qunpro/share?_wv=3&_wwv=128&appChannel=share&inviteCode=3cheK)